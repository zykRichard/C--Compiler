# Lab1 实验报告

**姓名：周琰轲                                 学号：201850187**


## 功能

    本实验完成了实验讲义中要求的所有功能，通过了实验讲义中给出的所有样例，但不能保证正确性。接下来是部分个人认为在功能实现上值得说的地方：

#### 多叉树结构

    给每一个`Node`结构增加两个指针，`bros`指向该节点同一级的靠右边的兄弟节点，`childs`指向该节点最左边的子结点。这样在对该树进行前序遍历的时候，可以按下面的形式：

```python
traverse(Node* cur):
	traverse(cur -> childs);
	traverse(cur -> bros);
```

#### Error的添加

    这一部分参考了18级胡俊豪学长的笔记。如果想要充分的利用error机制，必须明确其向前看符号。也就是说，只要是上下文明确的地方，加error都是可行的，例如：  LP Exp RP， LP 和 RP绝对明确，则可以加error判断：LP error RP。

    因此在这一部分的实现上，我的初步方案是只要是出现括号类型，中间的语法结构必然上下文明确，则必然可以加上error。同时，对于双目运算符，第二操作数的上文必然明确，因此可以加上error。但在实验中发现，按这种方法在对`Test/test4.cmm`做语法分析时，只会报错一行。在利用bison debug机制检查后发现，出现error上的移入/规约冲突。当时本人试了多种方法，最后的解决方法是将Exp文法中对双目运算法增加error的方式删掉。具体原因目前还不清楚，但本人认为目前错误恢复代码还是存在着或多或少的问题。


## 编译方法

    直接make或者make run，就能够自动编译出文件`parser`,并将其应用到Makefile指定的测试文件上。


## 不足之处

    首先error的添加问题个人认为目前的实现方案一定存在bug，从理论上来说给双目运算符的第二个操作数替换为error是没问题的，这一块可能还需要好好揣摩。
